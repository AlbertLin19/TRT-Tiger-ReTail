{% extends "marketplace/base.html" %}
{% load cloudinary %}
{% block content %}

<!-- Bootstrap collapsables and tables referenced from online documentation. -->
<div class="topbar" style="text-align: right;">
    <a href="{% url 'gallery' %}" class="btn btn-outline-light" style="font-weight: bold;"> BACK TO IMAGE GALLERY</a>
</div>
<div class="container my-4">
    <h2>Activity Log</h2>
    <hr>
    {% comment %}
    <div class="card" data-toggle="collapse" data-target="#own_activity_transaction">
      <div class="card-header" id="own_activity_transaction_data">
          <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#own_activity_transaction" aria-expanded="false" aria-controls="own_activity_transaction">
            Your Own Activity
          </button>
      </div>

      <div id="own_activity_transaction" class="collapse hide" aria-labelledby="own_activity_transaction_data">
        <div class="card-body">
          <table class="table">
            <thead>
              <tr>
                <th scope="col">Time</th>
                <th scope="col">Account</th>
                <th scope="col">Type</th>
                <th scope="col">Target</th>
                <th scope="col">Log</th>
              </tr>
            </thead>
            <tbody>
              {% for own_activity in own_activity_item %}
              <tr>
                <th scope="col">{{ own_activity.datetime }}</th>
                <th scope="col">{{ own_activity.account }}</th>
                <th scope="col">Item</th>
                <th scope="col">{{ own_activity.item }}</th>
                <th scope="col">{{ own_activity.log }}</th>
              </tr>
              {% endfor %}
              {% for own_activity in own_activity_transaction %}
              <tr>
                <th scope="col">{{ own_activity.datetime }}</th>
                <th scope="col">{{ own_activity.account }}</th>
                <th scope="col">Transaction</th>
                <th scope="col">{{ own_activity.transaction }}</th>
                <th scope="col">{{ own_activity.log }}</th>
              </tr>
              {% endfor %}
              {% for own_activity in own_activity_item_request %}
              <tr>
                <th scope="col">{{ own_activity.datetime }}</th>
                <th scope="col">{{ own_activity.account }}</th>
                <th scope="col">Item Request</th>
                <th scope="col">{{ own_activity.item_request }}</th>
                <th scope="col">{{ own_activity.log }}</th>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
    {% endcomment %}

    <div class="card" data-toggle="collapse" data-target="#item_activity">
      <div class="card-header" id="item_activity_data">
          <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#item_activity" aria-expanded="false" aria-controls="item_activity">
            My Items Activity
          </button>
      </div>

      <div id="item_activity" class="collapse hide" aria-labelledby="item_activity_data">
        <div class="card-body">
          <table class="table">
            <thead>
              <tr>
                <th scope="col">Time</th>
                <th scope="col">Account</th>
                <th scope="col">Target</th>
                <th scope="col">Log</th>
              </tr>
            </thead>
            <tbody>
              {% for activity in item_activity %}
              <tr>
                <th scope="col">{{ activity.datetime }}</th>
                <th scope="col">{{ activity.account }}</th>
                <th scope="col">{{ activity.item }}</th>
                <th scope="col">{{ activity.log }}</th>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <div class="card" data-toggle="collapse" data-target="#transaction_activity">
      <div class="card-header" id="transaction_activity_data">
          <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#transaction_activity" aria-expanded="false" aria-controls="transaction_activity">
            My Transactions Activity
          </button>
      </div>

      <div id="transaction_activity" class="collapse hide" aria-labelledby="transaction_activity_data">
        <div class="card-body">
          <table class="table">
            <thead>
              <tr>
                <th scope="col">Time</th>
                <th scope="col">Account</th>
                <th scope="col">Target</th>
                <th scope="col">Log</th>
              </tr>
            </thead>
            <tbody>
              {% for activity in transaction_activity %}
              <tr>
                <th scope="col">{{ activity.datetime }}</th>
                <th scope="col">{{ activity.account }}</th>
                <th scope="col">{{ activity.transaction }}</th>
                <th scope="col">{{ activity.log }}</th>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <div class="card" data-toggle="collapse" data-target="#item_request_activity">
      <div class="card-header" id="item_request_activity_data">
          <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#item_request_activity" aria-expanded="false" aria-controls="item_request_activity">
            My Item Requests Activity
          </button>
      </div>

      <div id="item_request_activity" class="collapse hide" aria-labelledby="item_request_activity_data">
        <div class="card-body">
          <table class="table">
            <thead>
              <tr>
                <th scope="col">Time</th>
                <th scope="col">Account</th>
                <th scope="col">Target</th>
                <th scope="col">Log</th>
              </tr>
            </thead>
            <tbody>
              {% for activity in item_request_activity %}
              <tr>
                <th scope="col">{{ activity.datetime }}</th>
                <th scope="col">{{ activity.account }}</th>
                <th scope="col">{{ activity.item_request }}</th>
                <th scope="col">{{ activity.log }}</th>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
</div>

{% endblock content %}